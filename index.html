<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CARSK Advent Calendar 2025</title>

    <!-- Leaflet CSS for accurate world map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/map.css">
    <link rel="stylesheet" href="css/calendar.css">
    <link rel="stylesheet" href="css/animations.css">
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Snowfall effect -->
    <div id="snowfall"></div>

    <!-- Header -->
    <header class="header">
        <h1>The 12 Days of CARSK</h1>
        <p class="subtitle">Thank you all for your amazing past and ongoing support!</p>
    </header>

    <!-- Info Sections -->
    <section class="info-section">
        <div class="info-container">
            <div class="info-card daily-prize">
                <h3>Daily Prize Winners</h3>
                <p>Each day Dr Chadban delivers a prize to a CARSK site. Follow along to see today's winners and to claim your prize.</p>
                <p class="warning-text">Winners must claim their prize on the day of delivery or it turns into a lump of coal! So check the calendar daily until Xmas Eve.</p>
            </div>
            <div class="info-card grand-prize">
                <h3>Grand Prize Delivered on Christmas Day!!</h3>
                <p>Everyone check your calendar on Christmas Day to see the Mystery Grand Prize Winner!</p>
                <p>The grand prize will be randomly drawn among sites who have recruited during the 12 days of CARSK. Each recruitment increases your odds of winning so be sure to keep recruiting and randomizing every day!</p>
                <p class="highlight-text">CARSK needs you now more than ever!</p>
            </div>
        </div>
    </section>

    <!-- World Map Section with Santa Animation -->
    <section id="map-section" class="map-section">
        <div class="map-container">
            <!-- Leaflet map container -->
            <div id="leaflet-map"></div>

            <!-- Santa overlay (positioned above map) -->
            <div id="santa-overlay" class="santa-overlay">
                <div id="santa" class="santa">
                    <img src="assets/images/chadban_2.png" alt="Dr. Steven Chadban as Santa" class="santa-image">
                    <div class="gift-drop" id="gift-drop"></div>
                </div>
            </div>
        </div>

        <div class="map-legend">
            <div class="legend-items">
                <span class="legend-item"><span class="legend-dot pending"></span> Awaiting Gift</span>
                <span class="legend-item"><span class="legend-dot visited"></span> Gift Delivered</span>
            </div>
        </div>
    </section>

    <!-- Advent Calendar Section -->
    <section id="calendar-section" class="calendar-section">
        <h2>Open Your Daily Gift</h2>
        <div id="advent-calendar" class="advent-calendar">
            <!-- 12 gift boxes will be generated here -->
        </div>
    </section>

    <!-- Grand Prize Section -->
    <section id="grand-prize-section" class="grand-prize-section">
        <h2>Christmas Day Grand Prize</h2>
        <p class="grand-prize-description">The mystery grand prize winner will be revealed on December 25th!</p>
        <div id="grand-prize-gift" class="grand-prize-gift locked">
            <div class="grand-gift-wrapper">
                <div class="gift-ribbon-v"></div>
                <div class="gift-ribbon-h"></div>
                <div class="gift-bow">
                    <div class="bow-loop left"></div>
                    <div class="bow-loop right"></div>
                    <div class="bow-center"></div>
                </div>
                <span class="gift-day">25</span>
                <span class="gift-date">Dec 25</span>
                <span class="grand-prize-label">GRAND PRIZE</span>
            </div>
        </div>
        <p class="grand-prize-note">More recruitments = Higher odds of winning!</p>
    </section>

    <!-- Modal for opened gifts -->
    <div id="gift-modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close" id="modal-close">&times;</button>
            <div class="modal-gift-animation">
                <div class="confetti-container" id="confetti"></div>
                <div class="gift-reveal" id="gift-reveal">
                    <h2 id="modal-date"></h2>
                    <div id="modal-centers"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Happy Holidays from the CARSK Trial Team!</p>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Scripts -->
    <script src="js/data.js"></script>
    <script src="js/map.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
